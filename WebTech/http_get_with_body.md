body 값을 가지는 HTTP GET
==================

RESTful API를 설계함에 있어 HTTP GET 메소드는 URI에 해당하는 리소스를 조회하는 용도로 사용된다. 
때문에 여기에 추가되는 API 파라미터들은 조회 조건을 설정하는데 사용하는 경우가 일반적이므로 Query String 혹은 Query Parameter를 통한 파라미터 설계가 이뤄진다. 

하지만 body 안에 entity를 넣어 GET 메소드를 설계하는 경우가 생길 수 있다. 복잡한 조회 조건을 JSON 혹은 XML을 통해 서버로 보내려고할 때, GET 메소드에 body entity를 추가하는 것은 스펙상 문제가 없을까?


## RFC2616 스펙
2014년 이전에 `HTTP 1.1` 사용으로 여겨지던 RFC2616 스펙에는 "요청을 처리할 때 메시지 본문은 무시되어야합니다" 라는 문구가 있었다. 

이는 GET 메소드에 요청 본문(body)값은 무시될 수 있는 파라미터값으로 해석될 수 있다. 하지만 구현상 대부분 HTTP 클라이언트와 서버에서는 메시지 본문을 포함할 수 있다. 

즉, GET으로 본문을 보낼 수 있지만 HTTP 1.1 디자인에서는 이런 케이스는 의미가 없고 다른 방법을 설계하는 것을 권장하는 것으로 해석된다. 

## RFC 7230-7237 스펙
하지만 2014년 이후에 나온 RFC 7230-7237 스펙에서는 이 문구가 삭제됐다. 

대신 "메서드 의미 체계와 메시지 본문은 독립적으로 운용된다." 라는 문구와 "GET 메서드는 Request-URI로 식별되는 정보를 검색하는 것을 의미한다" 라는 문구가 추가 됐는데, 이는 GET 메서드 본문 추가의 자유도를 높이면서 GET 메서드 사용 범례를 더욱 제한하는 느낌을 준다.

## 사용할 수 있을까?

위 스펙 문서들을 보고 알 수 있듯이 사용할 수도 있고 못할 수도 있다. 다양하게 해석될 여지로 헷갈릴 수 있지만 통상적으로 GET 요청 메시지 내의 페이로드에는 정의된 의미가 없어야한다고 생각하고 클라이언트나 서버를 설계하는 경우가 있기 때문에 GET body 값이 당연히 가능하다고 생각해서 API를 요청하거나 설계하면 버그를 생성할 수 있다.

그렇기 때문에 RESTful의 의미를 다시 생각하며 GET에 body 사용이 필요할 정도에 파라미터 추가가 필요하다면 전체적인 리소스 설계를 다시 생각해보는 것이 좋을 것 같다.

