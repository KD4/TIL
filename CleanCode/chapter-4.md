4장-주석
===================================
```
이 장에서 저자는 좋은 주석, 나쁜 주석에 대한 이야기를 한다. 대부분의 경우 주석은 나쁜 주석이다. 주석을 다는 경우보다 코드를 리팩토링하고 코드에 의미를 전부 표현하는 것이 더 좋다는 것이다. 전적으로 동의한다. 하지만 그럴 능력이 없거나, 시간이 있는 사람은 전체 프로그래머 중 2할은 될까? 나쁜 주석을 적절하게 다는 방법에 대해서 고민하게 될 것 같다. 적어도 주석을 달기 전에 코드를 더 고민할 시간을 갖게될 것 같다.
```

주석은 쉰들러 리스트가 아니다. 주석은 '순수하게 선하지'못하다. 사실상 주석은 기껏해야 필요악이다. 프로그래밍 언어 자체가 표현력이 풍부하다면, 아니 우레에게 프로그래밍 언어를 치밀하게 사용해 의도를 표현할 능력이 있다면 주석은 거의 필요하지 않다.

### 주석은 나쁜 코드를 보완하지 못한다
코드에 주석을 추가하는 일반적인 이유는 코드 품질이 나쁘기 때문이다.

표현력이 풍부하고 깔끔하며 주석이 거의 없는 코드가, 복잡하고 어수선하며 주석이 많이 달린 코드보다 훨씬 좋다.

### 코드로 의도를 표현하라!

```java
// 직원에게 복지 혜택을 받을 자격이 있는지 검사한다.
if ((employee.flags & HOURLY_FLAG) && (employee.age > 65))
```

위 코드는 아래와 같이 표현하는 것이 좋다!

```java
if (employee.isEligibleForFullBenefits())
```

## 좋은 주석
어떤 주석은 필요하거나 유익하다.

### 법적인 주석
때로는 회사가 정립한 구현 표준에 맞춰 법적인 이유로 특정 주석을 넣으라고 명시한다. 예를 들어 오픈소스 사용 했을 때 어떤 오픈 소스를 사용했는지, 라이선스는 어떤 것인지 주석으로 표현하는 것이다.

### 결과를 경고하는 주석
때로 다른 프로그래머에게 결과를 경고할 목적으로 주석을 사용한다.

```java
public static SimpleDateFormat makeStandardHttpDateFormat() {
  // SimpleDateFormat은 스레드에 안전하지 못하다.
  // 따라서 각 인스턴스를 독립적으로 생성해야한다.
}
```

### TODO 주석
TODO 주석은 프로그래머가 필요하다 여기지만 당장 구현하기 어려운 업무를 기술한다.

## 나쁜 주석

### 주절거리는 주석
특별한 이유 없이 의무감으로 혹은 프로세스에서 하라고 하니까 마지못해 주석을 단다면 전적으로 시간낭비다.

### 같은 이야기를 중복하는 주석

아래 코드는 간단한 함수로, 헤더에 달린 주석이 같은 코드 내용을 그대로 표현한다. 이 주석이 필요한가?
```java
// this.closed가 true일 때 반환되는 유틸리티 메소드다.
// 타임아웃에 도달하면 예외를 던진다.
public synchronized void waitForClose(final long timeoutMills) throws Exception {
  if (!closed) {
    wait(timeoutMills);
    if (!closed) throw new Exception("MockResponseSender cloud not be closed");
  }
}
```

### 이력을 기록하는 주석
때때로 사람들은 모듈을 편집할 때마다 모듈 첫머리에 주석을 추가한다. 그리하여 모듈 첫머리 주석은 지금까지 모듈에 가한 변경을 모두 기록하는 일종의 일지 혹은 로그가 된다.

예전에는 모든 모듈 첫머리에 변경 이력을 기록하고 관리하는 관례가 바람직했다. 당시에는 소스 코드 관리 시스템이 없었으니까. 지금은 아니지?

### 있으나 마나 한 주석
때때로 있으나 마나 한 주석을 접한다.

```java
/**
* 기본 생성자
*/
protected AnnualDateRule() {}
```

??? 필요한가?

### 위치는 표시하는 주석

```
//// Actions ////////////////////////
```

극히 드물지만 위와 같은 배너 아래 특정 기능을 모아놓으면 유용한 경우도 있긴 있다. 하지만 일반적으로 위와 같은 주석은 가독성만 낮추므로 제거해야 마땅하다.

### 공로를 돌리거나 저자를 표시하는 주석

```
/* 릭이 추가함 */
```

소스 코드 관리 시스템에게 맡기자.

### 주석으로 처리한 코드

주석으로 처리한 코드만큼 밉살스러운 관횅도 드물다. 다음과 같은 코드는 작성하지 마라!

```
InputStreamResponse response = new InputStreamResponse();
response.setBody(formatter.getResultStream(), formatter.getByteCount());
// InputStream resultStream = formatter.getResultStream();
// StreamReader reader = new StreamReader(resultsStream);
```

### 전역 정보
주석을 달아야 한다면 근처에 있는 코드만 기술하라. 코드 일부에 주석을 달면서 시스템의 전반적인 정보를 기술하지 마라.

### 너무 많은 정보
주석에다 흥미로운 역사나 관련 없는 정보를 장황하게 늘어 놓지마라.

### 비공개 코드에서 Javadocs
공개 API는 Javadocs가 유용하지만 공개하지 않을 코드라면 Javadocs는 쓸모가 없다.
