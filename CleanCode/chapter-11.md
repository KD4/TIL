11장-시스템
====================

**시스템 제작과 시스템 사용을 분리하라**

제작과 사용은 아주 다르다는 사실을 이 장에서는 강조하고 있다.

객체를 생성하거나 의존성을 연결할 때 설정 논리는 일반 싱핼 논리와 분리해야 모듈성이 높아진다.

또한 주요 의존성을 해소하기 위한 방식, 즉 전박적이며 일관적인 방식도 필요하다.

### Main 분리
모든 의존성 주입을 main이나 main이 호출하는 모듈이 담당하는 것이다. 

### 팩토리
객체가 생성되는 시점을 애플리케이션이 결정할 필요가 있을 때, ABSTRACT FACTORY 패턴을 이용해서 사용하는 인스턴스를 생성하는 시점은 애플리케이션이 결정하지만 생성 코드는 애플리케이션이 모르게 설계한다.

### 의존성 주입
사용과 제작을 분리하는 강력한 매커니즘 중 하나.

의존성 주입은 제어 역전 기법을 의존성 관링에 적용한 메커니즘이다. 제어 역전에서는 한 객체가 맡은 보조 책임을 새로운 객체에게 전적으로 떠넘긴다. 새로운 객체는 넘겨받은 책임만 맡으므로 단일 책임 원칙을 지키게된다. 의존성 관리 맥락에서 객체는 의존성 자체를 인스턴스로 만드는 책임은 지지 않는다. 대신에 이런 책ㅇ임을 다른 전담 매커니즘에 넘겨야만 한다. 그렇게 함으로써 제어를 역전 시킨다.

## 확장에 대하여...
처음부터 올바르게 시스템을 설계할 수 있다는 믿음은 미신이다. 대신에 우리는 오늘 주어진 사용자 스토리에 맞춰 시스템을 구현해야 한다. 내일은 새로운 스토리에 맞춰 시스템을 조정하고 확장하면 된다.

이것이 반복적이고 점진적인 애자일 방식의 핵심이다. 

그렇다고 아무 방향 없이 프로젝트를 설계하라는 말이 아니다. 프로젝트를 시작할 때는 일반적임 범위, 목표, 일정은 물론이고 결과로 내놓을 시스템의 일반적인 구조를 생각해야한다.

### 의사 결정을 최적화하라.

관심사를 모듈로 분리한 POJO 시스템은 기민함을 제공한다. 이런 기민함을 이용해서 매번 마지막에 사용을 결정하도록 하자.

